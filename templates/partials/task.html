<div class="bg-white p-2.5 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition group relative mb-2" id="task-{{ task.id }}">
    <div class="flex items-start gap-2">
        <!-- Текст задачи -->
        <div hx-get="/tasks/{{ task.id }}/edit"
             hx-trigger="click"
             hx-target="#task-{{ task.id }}"
             hx-swap="outerHTML"
             class="text-sm text-gray-800 leading-snug flex-grow cursor-pointer break-words {% if task.is_done %}line-through text-gray-400{% endif %}">
            {{ task.content }}
        </div>
    </div>

    <div class="flex justify-between items-center mt-2 pt-1 border-t border-gray-50">
        <span class="text-[10px] text-gray-400 opacity-0 group-hover:opacity-100 transition">#{{ task.id }}</span>

        <div class="flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200">
            <!-- Выполнить -->
            <button hx-post="/tasks/{{ task.id }}/archive"
                    hx-target="#task-{{ task.id }}"
                    hx-swap="outerHTML"
                    class="text-gray-300 hover:text-green-500 transition px-1"
                    title="В архив">
                {% if task.is_done %}✅{% else %}⬜{% endif %}
            </button>

            <!-- Удалить -->
            <button hx-delete="/tasks/{{ task.id }}" hx-target="#task-{{ task.id }}" hx-swap="outerHTML"
                    class="text-gray-300 hover:text-red-500 transition font-bold px-1"
                    title="Удалить">
                ×
            </button>
        </div>
    </div>
</div>